type Incentive @entity {
  id: ID!
  contract: Bytes!
  rewardToken: Bytes!
  pool: Bytes!
  startTime: BigInt!
  endTime: BigInt!
  vestingPeriod: BigInt!
  refundee: Bytes!
  reward: BigInt!
  started: Boolean!
  expired: Boolean!
  ended: Boolean!
  refund: BigInt
  positions: [IncentivePosition]! @derivedFrom(field: "incentive")
}

type IncentivePosition @entity {
  id: ID!
  position: Position!
  incentive: Incentive!
  claimed: BigInt!
  staked: Boolean!
}

type OwnerRewardToken @entity {
  id: ID!
  address: Bytes!
  rewardToken: Bytes!
  lastUnstakedIncentivePosition: IncentivePosition
}

type Position @entity {
  id: ID!
  owner: Bytes!
  liquidity: BigInt!
  stakes: [Stake]! @derivedFrom(field: "position")
  unstakes: [Unstake]! @derivedFrom(field: "position")
  claims: [Claim]! @derivedFrom(field: "position")
  incentives: [IncentivePosition]! @derivedFrom(field: "position")
}

type Stake @entity {
  id: ID!
  txHash: Bytes!
  timestamp: BigInt!
  blockNumber: BigInt!
  position: Position!
}

type Unstake @entity {
  id: ID!
  txHash: Bytes!
  timestamp: BigInt!
  blockNumber: BigInt!
  position: Position!
}

type Claim @entity {
  id: ID!
  txHash: Bytes!
  timestamp: BigInt!
  blockNumber: BigInt!
  position: Position
  to: Bytes!
  amount: BigInt!
  rewardToken: Bytes!
}

# global aggregated data
type Data @entity {
  id: ID!
  activeIncentives: BigInt!
  stakedPositions: BigInt!
}
type TokenData @entity {
  id: ID!
  totalClaimed: BigInt!
}
